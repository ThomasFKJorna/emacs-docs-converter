<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Lisp Reference Manual
corresponding to Emacs version 27.2.

Copyright (C) 1990-1996, 1998-2021 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "GNU General Public License," with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the
section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rev="made" href="mailto:bug-gnu-emacs@gnu.org">
<link rel="icon" type="image/png" href="/graphics/gnu-head-mini.png">
<meta name="ICBM" content="42.256233,-71.006581">
<meta name="DC.title" content="gnu.org">

<style type="text/css">
@import url('/software/emacs/manual.css');
</style>
</head>

<body lang="en">
<span id="Batch-Mode"></span><div class="header" style="background-color:#DDDDFF">
<p>
Next: <a href="Session-Management.html" accesskey="n" rel="next">Session Management</a>, Previous: <a href="X11-Keysyms.html" accesskey="p" rel="prev">X11 Keysyms</a>, Up: <a href="System-Interface.html" accesskey="u" rel="up">System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>

<span id="Batch-Mode-1"></span><h3 class="section">40.17 Batch Mode</h3>
<span id="index-batch-mode"></span>

<p>The command-line option &lsquo;<samp>-batch</samp>&rsquo; causes Emacs to run
noninteractively.  In this mode, Emacs does not read commands from the
terminal, it does not alter the terminal modes, and it does not expect
to be outputting to an erasable screen.  The idea is that you specify
Lisp programs to run; when they are finished, Emacs should exit.  The
way to specify the programs to run is with &lsquo;<samp>-l <var>file</var></samp>&rsquo;, which
loads the library named <var>file</var>, or &lsquo;<samp>-f <var>function</var></samp>&rsquo;, which
calls <var>function</var> with no arguments, or &lsquo;<samp>--eval=<var>form</var></samp>&rsquo;.
</p>
<p>Any Lisp program output that would normally go to the echo area,
either using <code>message</code>, or using <code>prin1</code>, etc., with
<code>t</code> as the stream (see <a href="Output-Streams.html">Output Streams</a>), goes instead to
Emacs&rsquo;s standard descriptors when in batch mode: <code>message</code> writes
to the standard error descriptor, while <code>prin1</code> and other print
functions write to the standard output.  Similarly, input that would
normally come from the minibuffer is read from the standard input
descriptor.  Thus, Emacs behaves much like a noninteractive
application program.  (The echo area output that Emacs itself normally
generates, such as command echoing, is suppressed entirely.)
</p>
<p>Non-ASCII text written to the standard output or error descriptors is
by default encoded using <code>locale-coding-system</code> (see <a href="Locales.html">Locales</a>)
if it is non-<code>nil</code>; this can be overridden by binding
<code>coding-system-for-write</code> to a coding system of you choice
(see <a href="Explicit-Encoding.html">Explicit Encoding</a>).
</p>
<dl>
<dt id="index-noninteractive">Variable: <strong>noninteractive</strong></dt>
<dd><p>This variable is non-<code>nil</code> when Emacs is running in batch mode.
</p></dd></dl>

<p>If Emacs exits due to signaling an error in batch mode, the exit
status of the Emacs command is non-zero:
</p>
<div class="example">
<pre class="example">$ emacs -Q --batch --eval '(error &quot;foo&quot;)'; echo $?
foo
255
</pre></div>


<div class="header" style="background-color:#DDDDFF">
<p>
Next: <a href="Session-Management.html" accesskey="n" rel="next">Session Management</a>, Previous: <a href="X11-Keysyms.html" accesskey="p" rel="prev">X11 Keysyms</a>, Up: <a href="System-Interface.html" accesskey="u" rel="up">System Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
